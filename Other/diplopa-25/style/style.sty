\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{geometry}
\RequirePackage{graphicx}
\RequirePackage[justification=centering]{caption}
\RequirePackage{subcaption}
\RequirePackage{float}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{listings}
\RequirePackage{color}
\RequirePackage{datetime2}
\RequirePackage{array}
\RequirePackage{tikz}
\RequirePackage{enumitem}
\RequirePackage{setspace}
\RequirePackage{slashbox} % tabular \backslashbox{a}{b}
\RequirePackage{xcolor,colortbl} % tabular \cellcolor{a}

\RequirePackage{polyglossia}
\RequirePackage{xecyr}

\RequirePackage{cite}

\setdefaultlanguage{russian}
\setotherlanguage{english}

\setmainfont{Times New Roman} 
\newfontfamily{\cyrillicfont}{Times New Roman}
\newfontfamily{\dejavu}{DejaVu Sans Mono}

\SetLanguageKeys{russian}{indentfirst=true}

\parindent 1.25cm
\linespread{1.5}

\geometry{left=2.5cm}
\geometry{right=1.5cm}
\geometry{top=2cm}
\geometry{bottom=2cm}

\renewcommand{\lstlistingname}{Листинг}

\newcommand{\labeltext}[2]{%
  \@bsphack
  \MakeLinkTarget*{#1}%
  \def\@currentlabel{#1}{\label{#2}}%
  \@esphack%
  #1%
}

%%% TOC
\RequirePackage{titlesec}
\RequirePackage{titletoc}

% \titleformat*{\section}{\fontsize{14pt}{16pt} \selectfont \bfseries}
% \titleformat*{\subsection}{\fontsize{14pt}{16pt} \selectfont \bfseries}

\dottedcontents{section}[1.7em]{\bfseries}{1.7em}{1pc}
\dottedcontents{section*}[1.7em]{\bfseries}{1.7em}{1pc}
\dottedcontents{subsection}[3.2em]{}{2.5em}{1pc}

% \setcounter{tocdepth}{2}
\dottedcontents{subsubsection}[4.5em]{}{3.3em}{1pc}
%%%

\addto\captionsrussian{\def\refname{\section{Список литературы}\vspace*{-1em}}}
\addto\captionsrussian{\def\contentsname{Оглавление}}

\makeatletter
\AddEnumerateCounter{\asbuk}{\russian@alph}{щ}

\newcommand{\monthname}[1]{
	\ifcase#1
	\or
	января%
	\or
	февраля%
	\or
	марта%
	\or
	апреля%
	\or
	мая%
	\or
	июня%
	\or
	июля%
	\or
	августа%
	\or
	сентября%
	\or
	октября%
	\or
	ноября%
	\or
	декабря%
	\fi
}

\usepackage{color}
\definecolor{darkred}{rgb}{0.6,0.0,0.0}
\definecolor{darkgreen}{rgb}{0,0.50,0}
\definecolor{lightblue}{rgb}{0.0,0.42,0.91}
\definecolor{orange}{rgb}{0.99,0.48,0.13}
\definecolor{grass}{rgb}{0.18,0.80,0.18}
\definecolor{pink}{rgb}{0.97,0.15,0.45}

% listings
\usepackage{listings}

% General Setting of listings
\lstset{
  aboveskip=1em,
  breaklines=true,
  abovecaptionskip=-6pt,
  captionpos=b,
  escapeinside={\%*}{*)},
  frame=single,
  numbers=left,
  numberstyle=\tiny,
}
% 0. Basic Color Theme
\lstdefinestyle{colored}{ %
  basicstyle=\ttfamily,
  backgroundcolor=\color{white},
  commentstyle=\color{green}\itshape,
  keywordstyle=\color{blue}\bfseries\itshape,
  keywordstyle=[2]\color{blue}\bfseries,
  keywordstyle=[3]\color{orange},
  stringstyle=\color{red},
  morekeywords={self},
  morekeywords=[2]{__init__},
  morekeywords=[3]{@staticmethod},
}

\delimitershortfall=-1pt