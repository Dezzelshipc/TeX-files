\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{geometry}
\RequirePackage{graphicx}
\RequirePackage[justification=centering, labelsep=endash, font={small}]{caption}
\RequirePackage{subcaption}
\RequirePackage{float}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{listings}
\RequirePackage{color}
\RequirePackage{datetime2}
\RequirePackage{array}
\RequirePackage{tikz}
\RequirePackage{enumitem}
\RequirePackage{setspace}
\RequirePackage{slashbox} % tabular \backslashbox{a}{b}
\RequirePackage{xcolor,colortbl} % tabular \cellcolor{a}

\RequirePackage{polyglossia}
\RequirePackage{xecyr}

\RequirePackage{fancyhdr}

\RequirePackage{cite}

\setdefaultlanguage{russian}
\setotherlanguage{english}

\setmainfont{Times New Roman} 
\newfontfamily{\cyrillicfont}{Times New Roman}
\newfontfamily{\dejavu}{DejaVu Sans Mono}

\SetLanguageKeys{russian}{indentfirst=true}

\parindent 1.25cm
\linespread{1.5}

\geometry{left=25mm}
\geometry{right=15mm}
\geometry{top=20mm}
\geometry{bottom=20mm}

% Page numbering
\pagestyle{fancy}
\fancyhf{}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyheadoffset{0mm}
\fancyfootoffset{0mm}
\setlength{\headheight}{17pt}

\renewcommand{\lstlistingname}{Листинг}

\newcommand{\labeltext}[2]{%
  \@bsphack
  \MakeLinkTarget*{#1}%
  \def\@currentlabel{#1}{\label{#2}}%
  \@esphack%
  #1%
}

%%% TOC
\RequirePackage{titlesec}
\RequirePackage{titletoc}

\titleformat{\section}[block]{\centering \fontsize{14pt}{16pt} \selectfont \bfseries}{\thesection}{1em}{}
\titleformat{\subsection}[block]{\hspace{2em} \fontsize{14pt}{16pt} \selectfont \bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}[block]{\hspace{2em} \fontsize{14pt}{16pt} \selectfont \bfseries}{\thesubsubsection.}{1em}{}

\dottedcontents{section}[1.7em]{}{1.7em}{1pc} % \bfseries
\dottedcontents{section*}[1.7em]{}{1.7em}{1pc} % \bfseries
\dottedcontents{subsection}[3.2em]{}{2.5em}{1pc}

% \setcounter{tocdepth}{2}
\dottedcontents{subsubsection}[4.5em]{}{3.3em}{1pc}
%%%

% \RequirePackage{sectsty}
% \sectionfont{\centering}

\newcommand{\secnonum}[1]{
\refstepcounter{subsection}
\addcontentsline{toc}{section}{#1}
\section*{#1}
}

\addto\captionsrussian{\def\refname{\section{Список литературы}\vspace*{-1em}}}
\addto\captionsrussian{\def\contentsname{Оглавление}}

\makeatletter
\renewcommand*{\@biblabel}[1]{\hfill#1.}
\makeatother
\addto\captionsrussian{\renewcommand{\figurename}{Рисунок}}

\makeatletter
\AddEnumerateCounter{\asbuk}{\russian@alph}{щ}

\newcommand{\monthname}[1]{
	\ifcase#1
	\or
	января%
	\or
	февраля%
	\or
	марта%
	\or
	апреля%
	\or
	мая%
	\or
	июня%
	\or
	июля%
	\or
	августа%
	\or
	сентября%
	\or
	октября%
	\or
	ноября%
	\or
	декабря%
	\fi
}

\delimitershortfall=-1pt